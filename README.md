# Linearsafetyconstraints_AVEC

The linear constraints coefficients are generated by function get_coefficient_for_cases in file Linear_safety_constraints_cases.py, which first call identify_case to evaluate the base case depending on the configuration. If dynamical obstacles (DOs) are not in the proximity of the automated vehicle (AV), no constraint is generated. Otherwise, a list of examples of base cases is given below, depending on the type of obstacle and on the relative configuration:

-vehicle predicted to cross path of AV at the intersection, AV must give right of way: vertical constraint to stop AV before intersection

-vehicle predicted to cross path of AV at the intersection, AV has right of way: no constraint is generated

-vehicle on the same lane in front with left lane unavailable: vertical constraint to stay behind

-vehicle on the same lane in front with left lane available: inclined constraint to push AV on the left lane

-vehicle on the same lane, overtaken: vertical constraint to keep AV sufficiently ahead

-vehicle on the adjacent left lane, close: horizontal constraint to keep AV on the right

-vehicle on the adjacent left lane, far ahead: vertical constraint to keep AV sufficiently ahead

-vehicle on the adjacent right lane, close: horizontal constraint to keep AV on the left

-vehicle on the adjacent right lane, far ahead: vertical constraint to keep AV sufficiently ahead

-vehicle more than two lanes to the right: no constraint is generated

-vehicle more than two lanes to the left: no constraint is generated

-pedestrian predicted to cross path of AV: vertical constraint to stay behind

-cyclist on the same lane, far: inclined constraint to push AV to the left

-cyclist on the same lane, close: horizontal constraint to keep AV on the left (within same lane)

-cyclist on the same lane, overtaken: vertical constraint to keep AV sufficiently ahead

Further base cases can be added to extend the approach to other traffic scenarios. Complex traffic scenarios result from the combination of linear constraints individually generated for each base case.






Moreover the following files are also included to generate simple numerical simulations:

-Run_simulation.py: main file of the simulation, in which the AV approaches the intersection and turns left, meeting two vehicles, then a jaywalking pedestrian and a cyclist

-User_params.py: contains all user-defined parameters for the simulation, including dynamics of all the agents involved, plus a few auxiliary functions

-Road_file.py: class implementing a urban environment consisting of multiple lanes and an intersection 

-Controller.py: class implementing an SMPC controller to determine the optimal sequence of input for the AV
